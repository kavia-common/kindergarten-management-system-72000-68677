{"is_source_file": true, "format": "Dart", "description": "This file defines the NotificationProvider class, which manages app notifications within a Flutter application. It handles loading, adding, marking notifications as read, dismissing, and filtering notifications, leveraging a DatabaseService for persistent storage and notifying listeners of state changes.", "external_files": ["../models/notification.dart", "../services/database_service.dart"], "external_methods": ["DatabaseService.instance.getNotifications", "DatabaseService.instance.insertNotification", "DatabaseService.instance.updateNotification"], "published": ["NotificationProvider"], "classes": [{"name": "NotificationProvider", "description": "A ChangeNotifier class that manages a list of notifications, providing methods to load, add, update, dismiss, and filter notifications, along with loading and error states."}], "methods": [{"name": "loadNotifications", "description": "Loads notifications from the database, updating internal state and error handling."}, {"name": "addNotification", "description": "Adds a new notification to the database and internal list, inserting it at the beginning."}, {"name": "markAsRead", "description": "Marks a specified notification as read, updating it in the database."}, {"name": "dismissNotification", "description": "Dismisses (deactivates) a notification, removing it from the active list and updating the database."}, {"name": "unreadNotifications", "description": "Returns a list of active notifications that are not read."}, {"name": "getNotificationsByType", "description": "Filters notifications by a specified NotificationType, only returning active ones."}, {"name": "unreadCount", "description": "Returns the count of unread notifications."}, {"name": "_setLoading", "description": "Helper method to update loading state and notify listeners."}, {"name": "clearError", "description": "Resets the current error state and notifies listeners."}], "calls": ["DatabaseService.instance.getNotifications", "DatabaseService.instance.insertNotification", "DatabaseService.instance.updateNotification"], "search-terms": ["NotificationProvider", "loadNotifications", "addNotification", "markAsRead", "dismissNotification", "unreadNotifications", "NotificationType", "database_service.dart", "notification.dart"], "state": 2, "file_id": 32, "knowledge_revision": 67, "git_revision": "", "hash": "88c091e5dd67eb70b4d7981255bf68fe", "format-version": 4, "code-base-name": "kindergarten_frontend", "filename": "kindergarten_frontend/lib/providers/notification_provider.dart", "revision_history": [{"67": ""}]}