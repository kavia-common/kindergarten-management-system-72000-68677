{"is_source_file": true, "format": "Dart", "description": "This file defines a MessageProvider class which manages message state, interacts with a database service for CRUD operations, and notifies listeners about state changes in a Flutter application.", "external_files": ["../models/message.dart", "../services/database_service.dart"], "external_methods": ["DatabaseService.instance.getMessages", "DatabaseService.instance.insertMessage", "DatabaseService.instance.updateMessage"], "published": ["messages", "isLoading", "error", "loadMessages", "sendMessage", "markAsRead", "unreadMessages", "importantMessages", "getMessagesByType", "unreadCount", "clearError"], "classes": [{"name": "MessageProvider", "description": "Provides message-related state management for Flutter UI, supports loading, sending, updating messages, and notifies listeners about changes."}], "methods": [{"name": "loadMessages", "description": "Loads messages from the database asynchronously and updates the internal list."}, {"name": "sendMessage", "description": "Sends a new message to the database, updates local list, and notifies listeners."}, {"name": "markAsRead", "description": "Marks a specific message as read both in the local list and in the database."}, {"name": "getMessagesByType", "description": "Filters messages by a specific message type."}, {"name": "clearError", "description": "Resets the current error to null and notifies listeners."}], "calls": ["DatabaseService.instance.getMessages", "DatabaseService.instance.insertMessage", "DatabaseService.instance.updateMessage"], "search-terms": ["Flutter message provider", "ChangeNotifier message state", "async message management", "sendMessage method", "markAsRead", "loadMessages"], "state": 2, "file_id": 31, "knowledge_revision": 141, "git_revision": "", "revision_history": [{"64": ""}, {"141": ""}], "hash": "2158e0091fd7e87683704b683663914e", "format-version": 4, "code-base-name": "kindergarten_frontend", "filename": "kindergarten_frontend/lib/providers/message_provider.dart"}