{"is_source_file": true, "format": "Dart", "description": "This file defines the MessageProvider class, which manages message state, interacts with a database service, and provides message-related functionalities for a Flutter application.", "external_files": ["../models/message.dart", "../services/database_service.dart"], "external_methods": ["DatabaseService.instance.getMessages", "DatabaseService.instance.insertMessage", "DatabaseService.instance.updateMessage"], "published": ["messages", "isLoading", "error", "loadMessages", "sendMessage", "markAsRead", "unreadMessages", "importantMessages", "getMessagesByType", "unreadCount", "clearError"], "classes": [{"name": "MessageProvider", "description": "A ChangeNotifier that manages message data, loading state, and error handling for message-related UI components."}], "methods": [{"name": "loadMessages", "description": "Asynchronously loads messages from the database service, updates the local message list, and manages loading and error states."}, {"name": "sendMessage", "description": "Sends a new message by inserting it into the database, updates the local message list, and notifies listeners."}, {"name": "markAsRead", "description": "Marks a specific message as read by updating it in the database and local list, then notifies listeners."}, {"name": "getMessagesByType", "description": "Filters messages by their type attribute to provide specific subsets."}, {"name": "clearError", "description": "Resets the error state to null."}], "calls": ["DatabaseService.instance.getMessages", "DatabaseService.instance.insertMessage", "DatabaseService.instance.updateMessage"], "search-terms": ["MessageProvider", "Flutter ChangeNotifier", "message state management", "DatabaseService interaction", "loadMessages", "sendMessage", "markAsRead"], "state": 2, "file_id": 31, "knowledge_revision": 64, "git_revision": "", "hash": "8334b3b2295f274b611e211a76bea996", "format-version": 4, "code-base-name": "kindergarten_frontend", "filename": "kindergarten_frontend/lib/providers/message_provider.dart", "revision_history": [{"64": ""}]}