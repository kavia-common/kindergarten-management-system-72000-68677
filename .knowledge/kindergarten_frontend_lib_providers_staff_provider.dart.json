{"is_source_file": true, "format": "Dart", "description": "This file defines the StaffProvider class, which manages staff data in a Flutter application. It includes methods for loading, adding, updating, and deleting staff, as well as querying staff details and handling loading/error states.", "external_files": ["../models/staff.dart", "../services/database_service.dart"], "external_methods": ["DatabaseService.instance.getStaff()", "DatabaseService.instance.insertStaff()", "DatabaseService.instance.updateStaff()", "DatabaseService.instance.deleteStaff()", "Staff.copyWith()"], "published": ["staff", "isLoading", "error", "loadStaff", "addStaff", "updateStaff", "deleteStaff", "getTeachers", "getStaffById", "clearError"], "classes": [{"name": "StaffProvider", "description": "A ChangeNotifier class that manages staff data, including CRUD operations and state management."}], "methods": [{"name": "loadStaff", "description": "Fetches staff data from the database and updates the internal list, handling loading and errors."}, {"name": "addStaff", "description": "Adds a new staff member to the database and updates the internal list."}, {"name": "updateStaff", "description": "Updates staff details in the database and reflects changes locally."}, {"name": "deleteStaff", "description": "Removes a staff member from the database and updates the local list."}, {"name": "getTeachers", "description": "Returns a list of staff members with the role of teacher."}, {"name": "getStaffById", "description": "Retrieves a staff member by ID, or null if not found."}, {"name": "_setLoading", "description": "Sets the loading state and triggers UI updates."}, {"name": "dispose", "description": "Cleans up the provider, marking it as disposed."}, {"name": "clearError", "description": "Clears any existing error message and updates listeners."}], "calls": ["DatabaseService.instance.getStaff()", "DatabaseService.instance.insertStaff(staff)", "DatabaseService.instance.updateStaff(staff)", "DatabaseService.instance.deleteStaff(id)", "notifyListeners()", "WidgetsBinding.instance.addPostFrameCallback()"], "search-terms": ["StaffProvider", "CRUD Staff", "Flutter ChangeNotifier staff management", "staff list", "loadStaff", "addStaff", "updateStaff", "deleteStaff", "getTeachers", "StaffRole.teacher"], "state": 2, "file_id": 28, "knowledge_revision": 159, "git_revision": "", "revision_history": [{"58": ""}, {"138": ""}, {"159": ""}], "hash": "7c016799ab54b25d4a4e9292ecd68a81", "format-version": 4, "code-base-name": "kindergarten_frontend", "filename": "kindergarten_frontend/lib/providers/staff_provider.dart"}